# edl2cdl

This tool is for converting color-correction metadata for advanced theatrical/television workflows, as it relates to a conversion tool for the [ASC **C**olor **D**ecision **L**ist](https://en.wikipedia.org/wiki/ASC_CDL) (*CDL*) metadata: the Academy Award® Technological Achievement winning invention by the [American Society of Cinematography](http://www.theasc.com) (ASC) [Science and Technology Committee](http://www.theasc.com/clubhouse/committee_tech.html) for representation and transportation of cinematographic-quality “color *grading*” information ― from on-set to postproduction.

Each “color decision” (i.e. a so-called “primary” color grading operator mimicking 35mm film color-timing and telecine operations and affecting a while frame or sequence of frames) is represented by a 10-tuple of floating point values (*s*R, *s*G, *s*B), (*o*R, *o*G, *o*B), (*p*R, *p*G, *p*B) and *S*, where the *s*'s are "slop" values, the *o*'s are "offset" values, the *p*'s are "power" values (each triplet containing a different value for the Red, Green and Blue image codevalues), while *S* is a "saturation" parameter. The first 9 floats are also called a "*SOP*" after their triplets' meaning initials.

In order to emulate film color-timing/grading operations, SOP values should be applied ‘on top’ of a *scene*-referred image colorimetry preferably encoded using a *“logarithmic”* transfer characteristic or similar tonecurve. Examples of digital colour spaces (in the RGB model) with such characteristics are: [ACEScc](http://acescentral.com/t/acescc-vs-acescct/485), ARRI [Log.C](http://www.arri.com/camera/alexa/workflow/working_with_arriraw/dailies/color_spaces/), Kodak [Cineon](https://en.wikipedia.org/wiki/Cineon) Printing Density (CPD), [REDlogFilm](http://www.red.com/learn/red-101/redlogfilm-redgamma), Panasonic [V-Log](http://pro-av.panasonic.net/en/varicam/common/pdf/VARICAM_V-Log_V-Gamut.pdf), Sony [S-Log3](http://www.xdcam-user.com/2014/03/understanding-sonys-slog3-it-isnt-really-noisy/), Film Log.E/Log.D.
Please refer to the ASC CDL [Wikipedia page](https://en.wikipedia.org/wiki/ASC_CDL) for further description and references.

In particular, **`edl2cdl`** reads the CDL metadata embedded, as comments, in the editing events of a CMX3600-like [Edit Decition List](https://en.wikipedia.org/wiki/Edit_decision_list) file (EDL) and converts them into either one of three XML-based variants of the ASC CDL file formats:
* A single Color Correction Collection file (*CCC*, `.ccc` file extension) containing all the color decisions in the original EDL, each differentiated by a [UUID](https://en.wikipedia.org/wiki/Universally_unique_identifier) called “CCCid” that is read after each EDL event's `ClipName` field. This is also the default output format of **`edl2cdl`**.
* A series of Color Decision List files, each contaning SOP+saturation metadata for a individual color decision (*CDL*, `.cdl` file extension).
* A series of Color Correction files, each contaning SOP+saturation metadata for a individual color decision (*CC*, `.cc` file extension). *This is not really a standard ASC CDL file format, but is effectively what is supported by many software applications with lighter implementations of CDL (e.g. The Foundry *Nuke*).

The only parameter that can be passed is either `--ccc` (*default* if not explicitly defined) or `--cdl` or `--cc` to specify the corresponding output format. Other than that a first mandatory argument is the pathname of the input EDL file. Optionally a foldername or a filename can be specified as argument (the script intelligently parses the output pathname guessing its use according to different output format). Individual EDL/CC files are generated in a separate folder (that keeps the EDL name, without extension, by default); the single CCC file is by default generated in the same folder (and with the same name) of the EDL file.

